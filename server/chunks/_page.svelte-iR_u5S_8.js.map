{"version":3,"file":"_page.svelte-iR_u5S_8.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, g as getContext, o as onDestroy, b as add_attribute, d as each, v as validate_component, e as escape } from \"../../chunks/ssr.js\";\nimport { L as Leaflet, M as Marker, p as pin } from \"../../chunks/pin.js\";\nimport \"leaflet\";\nconst Popup = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let popup;\n  let popupElement;\n  const { getLayer } = getContext(\"layer\");\n  const layer = getLayer();\n  onDestroy(() => {\n    layer?.unbindPopup();\n    popup?.remove();\n    popup = void 0;\n  });\n  return `<div${add_attribute(\"this\", popupElement, 0)}>${``}</div>`;\n});\nconst hist = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAABuwAAAbsBOuzj4gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAT5SURBVHic7ZtPaNRHFMc/bxsNFI2ECBIL4kElUpFAIuKlCLXYUEgOitXkUA8Fi4cS2mOFJlDSYqEe27SF2tL2ZGxaKkn/XIRSiuZQxf6xh3aLEiuC+CetiVW/Pcxv281v57f5ZbO7s83mC3PYN2/evHkzv7dv3swgiTQFGAAUKwNp21eqLFSvDHWOJQOEViA06t4AFjmS/whm3UAX0AlsBZYH0KucuAucByaAMUmfzarN86ZrgJMUetTFVk4Ca/4dd97gr9aActUqV3NGyBmgHma+YCXkPv/uGlAmVOnO4BxeHJeB54CVkkySAYMevsFcfagyl17Aymgslz18XQ04bx/HK5KGPfT/HSRNAcNmBvBWrLozg/uri+OjSisWAL4xbc3g+Z+PrLaokDCm5UuRIM4bzkLkPBYdzKxgrHW/AureAA0+opkNVFmPYPD6gHpC3X8CSwYIrUBoeJ0g/g3GYsDLccJSIBRCkVrCkgFCKxAaSU5wFsxsPbA+Rs5KylaSrwL4C3g4TizIlZV6AFluvgocpG4BLub3m2oF1ALMbAXwJNAGrAVaccmcK8AkkAXGJU0myZB0wcw6gfeAPZDyEwgFM8sA+4FeYBfQOEcTmdkZ4AQwLOl2AYN028z2AR8AfTXrBKMjuvO4XN5TzD14cHHNduB14Fcz6zezgnaSHgDPACNpV0AWOO2hlZ3PzJqAj3GDXghWA8eAw2bWI+mn/EpJ983sAKRwgtUqwAbgR59OCyw3gC5fnzUTCpvZBuA7oKUI2zRwDnfSOwFMAR24s40OoLlI2wfAPkkj8YrgKwBoovjMXwAeAxrmkLMJGC0iZwpoj7WpCQN8nqDwPWAIaJynvD7geoLM34GWeX0ClYzwIm//qafqN+BpSWdL1KUVeB94wiP7mKQXcj+qHgnm8Wdwy9s389sS2qTuA1gFXPLwTwPrpPDX5PYDj3roR+MzXwok3QSe9VQ1Akcg/G6w10P7gTJmpCR9AbzrqdprZsuCGSCK7Xd5qg5Lmilzdy8CN2O0ZmBnqEgQ3MYmHqZOA9+m1Ck1JN0yswng8VhVTyoDSDoOHC8XX4Q2D+2cpHsp2+ej3cwO5v3+Q9J4jMdngLaQu8G1HtpEibJ6opLDacBngAIdQjrBVg+tVAOkgU92a0gD+G6gVvJmiveGSJCcYIQrHloHLplRCXT4dEjrAw5SeKoyiIvKSuEDl8aKw3djLY7vcSFuMfycUvZkSCeY9dB8szQLkkZxO775wmeAbEgfME7hRqzZzDaVu6Mot7jNUzUWzABy2dsznqqjFejueeCRGO0ucCpkJAjO4W2P0XrMrE9SWS5rmtlGXE4hjq8k3YKACRHcPd5rHh2uA61lkJ8BvvGNEdihWsgIAf0JCn4JrFrg4F9NkD2ax8eMh2FFFQ3QCPySoOglYHcJMjcWmfk7wOZ8A5z1MB2q8irYjEtdJyUz3wGaUs56P+4QNElWb6wNbyZY/lCVV0IXcL+I4jeAr4HXgL24iHM1sBt4CfgE9yYgqb2AIU+/VX8x8iewJcEIe3AxeyX6HSJ6JTerz6jjar8Zuoh7jeIzQjsudV2uvu4QW/Y+A4R4NXYCyCQYoQV4A5chWkgfo+Q5vEQD5Bmh2ivhQ+ChIn5hHfA2yYccvjKDO2jZkcb31MLL0RHggKS/kxjMbBmwE5f1KXZBYgw4pSjCS4N/AByXxJDmIZsQAAAAAElFTkSuQmCC\";\nconst off = \"data:image/png;base64,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\";\nconst _page_svelte_svelte_type_style_lang = \"\";\nconst css = {\n  code: \".lastten.svelte-b30hd8{background-color:white;position:absolute;top:50px;left:50px;z-index:401;font-size:13px}@media(max-width: 768px){.lastten.svelte-b30hd8{display:none}}\",\n  map: null\n};\nfunction getTimeFromISOString(isoString) {\n  const date = new Date(isoString);\n  let dateEnd = isoString.slice(0, 10);\n  const hours = String(date.getUTCHours()).padStart(2, \"0\");\n  const minutes = String(date.getUTCMinutes()).padStart(2, \"0\");\n  const seconds = String(date.getUTCSeconds()).padStart(2, \"0\");\n  return `${dateEnd} ${hours}:${minutes}:${seconds}`;\n}\nfunction isOnline(fechaString) {\n  const newDate = fechaString.split(\".\")[0];\n  const fechaRecibida = new Date(newDate);\n  const fechaActual = /* @__PURE__ */ new Date();\n  const diferencia = Math.abs(fechaActual.getTime() - fechaRecibida.getTime());\n  const diferenciaEnSegundos = diferencia / 1e3;\n  console.log(fechaRecibida, fechaActual, diferencia, diferenciaEnSegundos);\n  return diferenciaEnSegundos <= 10;\n}\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  var initialView = [0, 0];\n  var zoom = 4;\n  var markerLocations = [];\n  $$result.css.add(css);\n  return ` <div class=\"w-80 h-auto p-4 lastten shadow-lg rounded-lg svelte-b30hd8\"><div class=\"font-bold text-xl mb-4 border-b pb-2\" data-svelte-h=\"svelte-1o45mwq\">Vehículos</div> <div class=\"space-y-3\"><div class=\"space-y-3\">${each(markerLocations, (location) => {\n    return `<div class=\"flex items-center flex-col\"><div class=\"w-full flex items-center justify-center\"> ${isOnline(location.date) ? `<div class=\"w-2.5 h-2.5 bg-green-500 rounded-full mr-3\"></div>` : `<div class=\"w-2.5 h-2.5 bg-red-500 rounded-full mr-3\"></div>`} <button class=\"flex cursor-pointer text-red-800 font-bold\"><span>${escape(location.imei)}</span> </button></div> <div class=\"w-full flex items-center justify-center mb-3\"><p class=\"font-semibold\">${escape(location.latLng[0])}, ${escape(location.latLng[1])}</p></div> <div class=\"w-full flex mb-5\"><button class=\"flex-grow hover:bg-slate-300 border flex justify-center text-white rounded-l p-2\"><img${add_attribute(\"src\", hist, 0)} width=\"20\" alt=\"pin\"></button> <button class=\"flex-grow hover:bg-slate-300 border flex justify-center text-white rounded-r p-2\"><img${add_attribute(\"src\", off, 0)} width=\"20\" alt=\"pin\"></button></div> </div>`;\n  })}</div></div></div> <div class=\"w-full h-screen\">${validate_component(Leaflet, \"Leaflet\").$$render($$result, { view: initialView, zoom }, {}, {\n    default: () => {\n      return `${each(markerLocations, (location) => {\n        return `${validate_component(Marker, \"Marker\").$$render(\n          $$result,\n          {\n            latLng: location.latLng,\n            width: 10,\n            height: 10\n          },\n          {},\n          {\n            default: () => {\n              return `<img${add_attribute(\"src\", pin, 0)} alt=\"pin\"> ${validate_component(Popup, \"Popup\").$$render($$result, {}, {}, {\n                default: () => {\n                  return `Latitud: ${escape(location.latLng[0])} <br>\n\t\t\t\t\tLongitud: ${escape(location.latLng[1])} <br>\n\t\t\t\t\tImei: ${escape(location.imei)} <br>\n\t\t\t\t\tÚltimo registro: ${escape(getTimeFromISOString(location.date))}`;\n                }\n              })} `;\n            }\n          }\n        )}`;\n      })}`;\n    }\n  })} </div>`;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":"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"}